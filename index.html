<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover"/>
  <title>Door PPA FAQ • Learn Mode</title>
  <meta name="theme-color" content="#0b1017"/>

  <style>
    :root{
      --navy:#0b1017;
      --navy2:#06122a;

      --gold:#FBC909;
      --teal:#3AADBB;

      --text:rgba(255,255,255,.94);
      --muted:rgba(255,255,255,.70);
      --muted2:rgba(255,255,255,.56);

      --stroke: rgba(255,255,255,.10);
      --shadow: 0 18px 70px rgba(0,0,0,.45);

      --r:18px;
      --r2:28px;

      --safeT: env(safe-area-inset-top);
      --safeB: env(safe-area-inset-bottom);
      --safeL: env(safe-area-inset-left);
      --safeR: env(safe-area-inset-right);

      --grad: linear-gradient(135deg, rgba(251,201,9,.22), rgba(58,173,187,.18));
    }

    *{ box-sizing:border-box; }
    html,body{ height:100%; }
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
      background:
        radial-gradient(1100px 700px at 20% -10%, rgba(251,201,9,.18), transparent 60%),
        radial-gradient(900px 600px at 110% 10%, rgba(58,173,187,.18), transparent 55%),
        linear-gradient(180deg, var(--navy), var(--navy2));
      color: var(--text);
      padding: calc(14px + var(--safeT)) calc(14px + var(--safeR)) calc(16px + var(--safeB)) calc(14px + var(--safeL));
    }

    .wrap{ max-width: 980px; margin: 0 auto; }

    header{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      padding: 12px 12px;
      border:1px solid var(--stroke);
      border-radius: var(--r2);
      background: rgba(15,23,36,.55);
      backdrop-filter: blur(10px);
      box-shadow: var(--shadow);
    }
    .brand{ display:flex; align-items:center; gap:10px; min-width:0; }
    .logo{
      width:42px; height:42px;
      border-radius: 14px;
      border:1px solid var(--stroke);
      background: rgba(255,255,255,.06);
      overflow:hidden;
      display:grid; place-items:center;
      flex:0 0 auto;
    }
    .logo img{ width:100%; height:100%; object-fit:cover; }
    .titleWrap{ min-width:0; }
    .appTitle{
      margin:0;
      font-size: 15px;
      letter-spacing: .2px;
      line-height: 1.15;
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
    }
    .appSub{
      margin: 5px 0 0 0;
      font-size: 12px;
      color: var(--muted);
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
    }

    .right{ display:flex; align-items:center; gap:8px; flex:0 0 auto; }
    .pill{
      font-size:12px;
      padding: 8px 10px;
      border-radius: 999px;
      border:1px solid var(--stroke);
      background: rgba(255,255,255,.06);
      color: var(--muted);
      white-space:nowrap;
    }
    .pill b{
      background: linear-gradient(135deg, var(--gold), var(--teal));
      -webkit-background-clip:text;
      background-clip:text;
      color: transparent;
    }
    .iconBtn{
      width:40px; height:40px;
      border-radius: 14px;
      border:1px solid var(--stroke);
      background: rgba(255,255,255,.06);
      color: rgba(255,255,255,.88);
      cursor:pointer;
      display:grid;
      place-items:center;
      user-select:none;
    }
    .iconBtn:active{ transform: scale(.98); }

    .stage{
      margin-top: 14px;
      border-radius: var(--r2);
      border:1px solid var(--stroke);
      background: rgba(15,23,36,.55);
      backdrop-filter: blur(10px);
      box-shadow: var(--shadow);
      overflow:hidden;
      position:relative;
    }

    .card{
      min-height: calc(88vh - 70px);
      padding: 22px 18px;
      display:flex;
      flex-direction:column;
      justify-content:space-between;
      gap: 18px;
      touch-action: pan-y;
      user-select:none;
    }

    .topRow{
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap:10px;
      color: var(--muted);
      font-size: 13px;
    }
    .progress{ display:flex; align-items:center; gap:8px; white-space:nowrap; }
    .dots{ display:flex; gap:6px; align-items:center; }
    .dot{
      width:7px;height:7px;border-radius:999px;
      background: rgba(255,255,255,.18);
      border:1px solid rgba(255,255,255,.10);
    }
    .dot.on{
      background: rgba(251,201,9,.90);
      border-color: rgba(251,201,9,.35);
      box-shadow: 0 0 0 4px rgba(251,201,9,.12);
    }

    .qTitle{
      font-size: 26px;
      line-height: 1.25;
      text-align:center;
      margin: 0;
      letter-spacing: .2px;
      padding: 0 6px;
    }

    .say{
      border-radius: 24px;
      padding: 18px 16px;
      border:1px solid rgba(251,201,9,.22);
      background: linear-gradient(135deg, rgba(251,201,9,.22), rgba(251,201,9,.06));
    }
    .label{
      font-size: 12px;
      letter-spacing: .4px;
      text-transform: uppercase;
      color: rgba(255,255,255,.74);
      display:flex;
      align-items:center;
      gap:8px;
    }
    .label .chipDot{
      width:10px;height:10px;border-radius:999px;
      background: rgba(251,201,9,.95);
      box-shadow: 0 0 0 4px rgba(251,201,9,.12);
    }
    .say p{
      margin: 10px 0 0 0;
      font-size: 19px;
      line-height: 1.6;
      color: rgba(255,255,255,.94);
    }

    .actions{ display:grid; gap: 10px; }
    .btn{
      width:100%;
      padding: 16px 14px;
      font-size: 17px;
      border-radius: 18px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.06);
      color: rgba(255,255,255,.92);
      cursor:pointer;
      text-align:left;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
    }
    .btn:active{ transform: scale(.99); }
    .btn .hint{ font-size: 13px; color: var(--muted2); }
    .btn.teal{
      border-color: rgba(58,173,187,.22);
      background: linear-gradient(135deg, rgba(58,173,187,.18), rgba(58,173,187,.06));
    }
    .btn.gray{ background: rgba(0,0,0,.18); }

    .nav{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      padding-top: 6px;
    }
    .navBtn{
      flex:1;
      padding: 14px 12px;
      border-radius: 18px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.06);
      color: rgba(255,255,255,.90);
      cursor:pointer;
      font-size: 16px;
      display:flex;
      align-items:center;
      justify-content:center;
      gap:10px;
      user-select:none;
    }
    .navBtn.primary{
      border-color: rgba(251,201,9,.22);
      background: var(--grad);
      color: rgba(255,255,255,.96);
      font-weight: 650;
    }
    .navBtn:disabled{ opacity: .45; cursor:not-allowed; }

    .footerHint{
      text-align:center;
      color: var(--muted2);
      font-size: 12px;
      line-height: 1.35;
      padding: 10px 14px 14px 14px;
      border-top: 1px solid rgba(255,255,255,.08);
    }

    .animOutLeft{ animation: outLeft .18s ease both; }
    .animInRight{ animation: inRight .20s ease both; }
    .animOutRight{ animation: outRight .18s ease both; }
    .animInLeft{ animation: inLeft .20s ease both; }

    @keyframes outLeft{ to{ transform: translateX(-18px); opacity:.0; } }
    @keyframes inRight{ from{ transform: translateX(18px); opacity:.0; } to{ transform: translateX(0); opacity:1; } }
    @keyframes outRight{ to{ transform: translateX(18px); opacity:.0; } }
    @keyframes inLeft{ from{ transform: translateX(-18px); opacity:.0; } to{ transform: translateX(0); opacity:1; } }

    .sheetBack{
      position:fixed;
      inset:0;
      background: rgba(0,0,0,.45);
      display:none;
      align-items:flex-end;
      justify-content:center;
      padding: 14px;
      z-index:50;
    }
    .sheet{
      width: min(980px, 100%);
      border-radius: 26px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(15,23,36,.86);
      backdrop-filter: blur(12px);
      box-shadow: var(--shadow);
      overflow:hidden;
      transform: translateY(12px);
      opacity: 0;
      transition: transform .18s ease, opacity .18s ease;
    }
    .sheetBack.show{ display:flex; }
    .sheetBack.show .sheet{ transform: translateY(0); opacity: 1; }
    .sheetHead{
      padding: 14px 14px 10px 14px;
      display:flex;
      align-items:flex-start;
      justify-content:space-between;
      gap:12px;
      border-bottom:1px solid rgba(255,255,255,.10);
    }
    .sheetTitle{ margin:0; font-size: 16px; letter-spacing:.2px; }
    .sheetClose{
      width:40px;height:40px;
      border-radius: 14px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.06);
      color: rgba(255,255,255,.92);
      cursor:pointer;
      display:grid; place-items:center;
      user-select:none;
      flex:0 0 auto;
    }
    .sheetBody{
      padding: 12px 14px 16px 14px;
      color: rgba(255,255,255,.86);
      line-height: 1.55;
      font-size: 16px;
    }
    .bullets{ margin: 10px 0 0 0; padding-left: 18px; color: rgba(255,255,255,.84); }
    .bullets li{ margin: 8px 0; }
    .tagRow{
      padding: 10px 14px 14px 14px;
      border-top: 1px solid rgba(255,255,255,.10);
      color: var(--muted2);
      font-size: 12px;
      display:flex;
      justify-content:space-between;
      gap:10px;
      flex-wrap:wrap;
    }

    .kbd{
      display:inline-flex;
      align-items:center;
      justify-content:center;
      min-width: 22px;
      padding: 2px 7px;
      border-radius: 10px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.20);
      color: rgba(255,255,255,.72);
      font-size: 12px;
    }
  </style>
</head>

<body>
<div class="wrap">

  <header>
    <div class="brand">
      <div class="logo" title="L.O.S.">
        <img src="los-logo.png" alt="LOS Logo"
          onerror="this.style.display='none'; this.parentElement.textContent='LOS'; this.parentElement.style.fontWeight='800'; this.parentElement.style.color='rgba(255,255,255,.9)';">
      </div>
      <div class="titleWrap">
        <p class="appTitle">Door PPA FAQ • Learn Mode</p>
        <p class="appSub">Swipe to learn • Built for reps knocking doors</p>
      </div>
    </div>

    <div class="right">
      <div class="pill"><b>Apple</b> learn</div>
      <button class="iconBtn" id="helpBtn" title="Help">?</button>
    </div>
  </header>

  <section class="stage">
    <div class="card" id="card"></div>
    <div class="footerHint">
      Swipe <span class="kbd">←</span> <span class="kbd">→</span> • Tap “Verify in contract” when the homeowner asks “what if…”
    </div>
  </section>
</div>

<!-- Bottom Sheet -->
<div class="sheetBack" id="sheetBack" aria-hidden="true">
  <div class="sheet" role="dialog" aria-modal="true">
    <div class="sheetHead">
      <div>
        <h3 class="sheetTitle" id="sheetTitle">Title</h3>
        <div style="margin-top:6px;color:var(--muted);font-size:12px" id="sheetSub"></div>
      </div>
      <button class="sheetClose" id="sheetClose" aria-label="Close">✕</button>
    </div>
    <div class="sheetBody" id="sheetBody"></div>
    <div class="tagRow">
      <span id="sheetTagLeft"></span>
      <span id="sheetTagRight"></span>
    </div>
  </div>
</div>

<script>
/* =========================
   Door-Knock Customer Concerns (PPA Program)
   - No loan / no debt framing
   - 25-year bumper-to-bumper style coverage (verify in contract)
   - Transfer reassurance (verify in contract)
   - Escalator moved out (not common door question)
   ========================= */
const DECK = [
  {
    tag: "30-Second Clarity",
    q: "Is this a loan? Am I taking on debt?",
    say: "No loan.\nNo new debt.\nIt’s a power agreement—you pay for the electricity the system produces.",
    why: "This is the fastest way to kill the ‘hidden loan’ fear and keep the conversation calm.",
    verify: [
      "Agreement type is PPA (not a loan)",
      "No financed loan payment language",
      "Billing is based on kWh produced"
    ]
  },
  {
    tag: "Trust",
    q: "What’s the catch? Is this a scam?",
    say: "Totally fair question.\nWe don’t ask you to buy equipment—we cover the system and you buy the power.\nEverything we say must match the contract.",
    why: "Acknowledging skepticism builds trust. ‘Contract-backed’ language makes you the safe rep.",
    verify: [
      "Company name + provider identity on agreement",
      "All pricing terms written (rate, fees if any)",
      "Cancellation / rescission section"
    ]
  },
  {
    tag: "Warranty",
    q: "What if the panels or battery break?",
    say: "That’s the advantage here.\nThe system is covered long-term—panels, battery, and service.\nIf something fails, they fix it.",
    why: "Homeowners don’t want to own maintenance. This turns fear into relief—without getting technical.",
    verify: [
      "Coverage term (25-year / long-term) stated in writing",
      "What’s included: parts, labor, monitoring, service calls",
      "Exclusions (damage, roof issues, misuse, etc.)"
    ]
  },
  {
    tag: "Bills",
    q: "Do I still pay Edison?",
    say: "Usually yes—but much less.\nYou’ll have a solar bill for the power produced, and often a smaller Edison bill for what you still use.",
    why: "This prevents ‘you promised no Edison bill’ objections later and keeps expectations realistic.",
    verify: [
      "Any utility charges that remain (minimum charges, etc.)",
      "How the system is sized (offset assumptions)",
      "How credits/true-up are described (if applicable)"
    ]
  },
  {
    tag: "Savings",
    q: "How do I know I’m saving money?",
    say: "We compare cost per kWh.\nIf your solar power rate is lower than Edison’s, that’s savings.\nWe size it so it makes sense day one.",
    why: "People get overwhelmed by totals. kWh price is the cleanest comparison at the door.",
    verify: [
      "Starting kWh rate on the agreement",
      "Any annual adjustment language (if any)",
      "System size / expected production assumptions"
    ]
  },
  {
    tag: "Transfer",
    q: "What if I sell my home?",
    say: "You’re covered.\nThe agreement is designed to transfer to the new homeowner.\nWe make the transfer process simple and guaranteed.",
    why: "Selling the home is a top fear. Reassurance keeps momentum—then you confirm with the contract.",
    verify: [
      "Transfer clause (transfer allowed / process defined)",
      "Any buyer requirements + timeline",
      "Transfer fees (if any) and who pays"
    ]
  },
  {
    tag: "Credit",
    q: "Does this hit my credit like a car loan?",
    say: "It’s not a loan.\nApproval is usually about being a qualified homeowner and payment history—not adding debt.\nWe’ll confirm what’s required before anything moves forward.",
    why: "People fear ‘another loan.’ This keeps it accurate while calming the credit anxiety.",
    verify: [
      "Stated qualification requirements",
      "Any credit-check language (if present)",
      "Whether it reports as debt (if stated)"
    ]
  },
  {
    tag: "Payments",
    q: "Is there money out of pocket?",
    say: "Typically no big down payment.\nIt’s set up to start saving without fronting cash.\nIf anything is required, we’ll show it in writing.",
    why: "Door conversations die when people think they need cash. Keep it simple and contract-based.",
    verify: [
      "Upfront payment requirement (if any)",
      "Any deposit language",
      "Fee schedule section"
    ]
  },
  {
    tag: "Roof",
    q: "What about my roof—damage or replacement later?",
    say: "Good question.\nWe make sure the roof is solid before install.\nIf roof work happens later, the contract explains remove/reinstall responsibilities.",
    why: "Roof is a trust test. This answer sounds responsible, not salesy.",
    verify: [
      "Roof condition requirements / inspection notes",
      "Remove/reinstall terms + any costs",
      "Leak responsibility language"
    ]
  },
  {
    tag: "Outages",
    q: "Will the battery keep me on during outages?",
    say: "Yes, with the right backup setup.\nThe battery can power selected circuits when the grid goes down.\nWe’ll confirm what loads are included.",
    why: "Outage protection is emotional. ‘Selected circuits’ keeps expectations honest and strong.",
    verify: [
      "Backup capability included (not just storage)",
      "Which circuits/loads are backed up",
      "Any backup panel / equipment included"
    ]
  },
  {
    tag: "Timeline",
    q: "How long does it take and what’s the process?",
    say: "It’s simple:\n1) quick eligibility check\n2) site survey\n3) permits\n4) install\n5) inspection + PTO.\nWe guide the whole thing.",
    why: "A clear timeline reduces anxiety and makes you look organized and legit.",
    verify: [
      "Who handles permits + interconnection",
      "Estimated timeline language (if provided)",
      "What happens if HOA/city requires changes"
    ]
  },
  {
    tag: "Legit Check",
    q: "How do I know the installer is legit?",
    say: "You should verify it.\nWe’ll provide the license info and who is responsible for install and service.\nNo guessing—everything documented.",
    why: "Inviting verification makes you trustworthy and filters out fear-based objections.",
    verify: [
      "Contractor/installer identity + license info",
      "Who provides service (provider vs subcontractor)",
      "Contact/service process in writing"
    ]
  },
  {
    tag: "Decision",
    q: "What’s the simple way to decide if this is worth it?",
    say: "If it lowers your cost per kWh,\nkeeps you protected with long-term coverage,\nand transfers cleanly if you move—then it’s a win.",
    why: "Homeowners want permission to decide. This is a calm ‘yes/no’ filter that closes well.",
    verify: [
      "kWh rate and expected savings assumptions",
      "Warranty/coverage term and what it includes",
      "Transfer clause and any conditions"
    ]
  }
];

/* =========================
   Render
   ========================= */
const cardEl = document.getElementById("card");
let idx = 0;

function clamp(n, min, max){ return Math.max(min, Math.min(max, n)); }

function render(animInClass){
  const item = DECK[idx];
  const total = DECK.length;

  const dots = Array.from({length: Math.min(total, 10)}, (_,i)=>i)
    .map(i=>{
      let base = 0;
      if(total > 10){
        base = clamp(idx - 4, 0, total - 10);
      }
      const real = (total > 10) ? (base + i) : i;
      const on = (real === idx) ? "on" : "";
      return `<span class="dot ${on}"></span>`;
    }).join("");

  const html = `
    <div class="topRow">
      <div class="progress">
        <span><b style="color:rgba(255,255,255,.92)">Question ${idx+1}</b> of ${total}</span>
        <span style="opacity:.65">•</span>
        <span style="color:rgba(251,201,9,.92)">${escapeHtml(item.tag)}</span>
      </div>
      <div class="dots" aria-hidden="true">${dots}</div>
    </div>

    <h1 class="qTitle">${escapeHtml(item.q)}</h1>

    <div class="say">
      <div class="label"><span class="chipDot"></span> Say this</div>
      <p>${escapeHtml(item.say).replace(/\n/g,"<br>")}</p>
    </div>

    <div class="actions">
      <button class="btn teal" id="whyBtn">
        <span>Why this works</span>
        <span class="hint">tap ▸</span>
      </button>
      <button class="btn gray" id="verifyBtn">
        <span>Verify in contract</span>
        <span class="hint">tap ▸</span>
      </button>
    </div>

    <div class="nav">
      <button class="navBtn" id="backBtn" ${idx===0 ? "disabled" : ""}>◀ Back</button>
      <button class="navBtn primary" id="nextBtn" ${idx===total-1 ? "disabled" : ""}>Next ▶</button>
    </div>
  `;

  cardEl.className = "card";
  if(animInClass) cardEl.classList.add(animInClass);
  cardEl.innerHTML = html;

  document.getElementById("whyBtn").onclick = ()=> openSheet("Why this works", item.why, item);
  document.getElementById("verifyBtn").onclick = ()=> openSheet("Verify in contract", item.verify, item, true);

  document.getElementById("backBtn").onclick = ()=> go(-1);
  document.getElementById("nextBtn").onclick = ()=> go(1);
}

function go(delta){
  const total = DECK.length;
  const next = idx + delta;
  if(next < 0 || next >= total) return;

  const outClass = delta > 0 ? "animOutLeft" : "animOutRight";
  const inClass  = delta > 0 ? "animInRight" : "animInLeft";

  cardEl.classList.remove("animInRight","animInLeft","animOutLeft","animOutRight");
  cardEl.classList.add(outClass);

  setTimeout(()=>{
    idx = next;
    render(inClass);
  }, 165);
}

/* =========================
   Swipe
   ========================= */
let startX = 0, startY = 0, dragging = false;

cardEl.addEventListener("pointerdown", (e)=>{
  if(document.getElementById("sheetBack").classList.contains("show")) return;
  dragging = true;
  startX = e.clientX;
  startY = e.clientY;
});

cardEl.addEventListener("pointerup", (e)=>{
  if(!dragging) return;
  dragging = false;
  const dx = e.clientX - startX;
  const dy = e.clientY - startY;

  if(Math.abs(dx) > 55 && Math.abs(dx) > Math.abs(dy) * 1.2){
    if(dx < 0) go(1);
    else go(-1);
  }
});

/* =========================
   Bottom Sheet
   ========================= */
const sheetBack = document.getElementById("sheetBack");
const sheetTitle = document.getElementById("sheetTitle");
const sheetSub = document.getElementById("sheetSub");
const sheetBody = document.getElementById("sheetBody");
const sheetClose = document.getElementById("sheetClose");
const sheetTagLeft = document.getElementById("sheetTagLeft");
const sheetTagRight = document.getElementById("sheetTagRight");

function openSheet(title, content, item, isBullets=false){
  sheetTitle.textContent = title;
  sheetSub.textContent = item.q || "";

  if(isBullets){
    sheetBody.innerHTML = `
      <ul class="bullets">
        ${(content || []).map(x=> `<li>${escapeHtml(x)}</li>`).join("")}
      </ul>
    `;
  } else {
    sheetBody.innerHTML = `<div>${escapeHtml(content || "")}</div>`;
  }

  sheetTagLeft.textContent = item.tag ? `Category: ${item.tag}` : "";
  sheetTagRight.textContent = `Swipe: next/prev`;

  sheetBack.classList.add("show");
  sheetBack.setAttribute("aria-hidden","false");
}

function closeSheet(){
  sheetBack.classList.remove("show");
  sheetBack.setAttribute("aria-hidden","true");
}

sheetClose.onclick = closeSheet;
sheetBack.addEventListener("click", (e)=>{
  if(e.target === sheetBack) closeSheet();
});
window.addEventListener("keydown", (e)=>{
  if(e.key === "Escape") closeSheet();
  if(sheetBack.classList.contains("show")) return;
  if(e.key === "ArrowRight") go(1);
  if(e.key === "ArrowLeft") go(-1);
});

/* =========================
   Help
   ========================= */
document.getElementById("helpBtn").onclick = ()=>{
  openSheet(
    "How to use this at the door",
    "Use this like iPhone onboarding:\n\n• Read “Say this” out loud.\n• Tap “Why this works” if you need confidence.\n• Tap “Verify in contract” when they ask ‘but what if…’\n\nPro tip:\nIf they want details, set an appointment and review contract line-by-line.",
    { q:"", tag:"Help" }
  );
};

/* =========================
   Utils
   ========================= */
function escapeHtml(str){
  return String(str ?? "")
    .replaceAll("&","&amp;")
    .replaceAll("<","&lt;")
    .replaceAll(">","&gt;")
    .replaceAll('"',"&quot;")
    .replaceAll("'","&#039;");
}

/* Init */
render();
</script>
</body>
</html>
